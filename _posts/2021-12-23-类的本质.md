---
layout:     post
title:      类的本质
subtitle:   类、父类、元类
date:       2021/12/22
author:     HongWeiChen
header-img: img/blog-banner-dark.jpg
catalog: true
tags:
    - 原创
---

# 类的本质

类的本质是一个对象，称作类对象，程序在第一次使用该类时被创建，在整个程序中只有一份，

```
@interface Foo : NSObject

- (void)hello;

@end

@implementation Foo

- (void)hello {
    NSLog(@"Hello Foo");
}

@end


Class class = [Foo class];
void *ptr = &class;
[(__bridge  id)ptr hello];
```

这段代码执行结果会是什么？会崩溃吗？并不会，这段代码会顺利打印Hello Foo。为什么呢？

答：**实例对象中存放成员变量，实例对象的isa指向类对象，类对象中存放实例方法，isa指向元类对象，元类对象存储类方法，isa指向NSObject。**
