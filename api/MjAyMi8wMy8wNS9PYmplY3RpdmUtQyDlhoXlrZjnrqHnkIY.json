{"title":"Objective-C 内存管理","date":"2022-03-04T16:00:00.000Z","date_formatted":{"ll":"Mar 5, 2022","L":"03/05/2022","MM-DD":"03-05"},"link":"2022/03/05/Objective-C 内存管理","tags":["Objective-C"],"updated":"2022-03-05T08:07:40.788Z","content":"<h1 id=\"objective-c中的内存分配\">Objective-C中的内存分配<a title=\"#objective-c中的内存分配\" href=\"#objective-c中的内存分配\"></a></h1>\n<p>在Objective-C中，对象通常是使用alloc方法在堆上创建的。<code>[NSObject alloc]</code>方法会在堆上分配一块内存，按照<code>NSObject</code>的内部结构填充这块儿的内存区域。</p>\n<p>一旦对象创建完成，就不可能再移动它了。因为很可能有很多指针都指向这个对象，这些指针并没有被追踪。因此没有办法在移动对象的位置之后更新全部的指针。</p>\n<h1 id=\"mrc与arc\">MRC与ARC<a title=\"#mrc与arc\" href=\"#mrc与arc\"></a></h1>\n<p>Objective-C中提供了两种内存管理机制：MRC（MannulReference Counting）和ARC（AutomaticReference Counting），分别提供对内存的手动管理和自动管理，来满足不同的需求。现在苹果推荐使用ARC来进行内存管理。</p>\n<h1 id=\"mrc\">MRC<a title=\"#mrc\" href=\"#mrc\"></a></h1>\n<p>对象操作的四个类别</p>\n<div class=\"φbq\"><div class=\"φbs\"><table><thead>\n<tr>\n<th>对象操作</th>\n<th>OC中对应的方法</th>\n<th>对应的retainCount变化</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>持有对象</td>\n<td>retain</td>\n<td>+1</td>\n</tr>\n<tr>\n<td>变!!!~~~~</td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table></div></div>","next":{"title":"内存管理基础","link":"2022/03/04/内存管理基础"},"plink":"http://hongweichen.github.io/2022/03/05/Objective-C 内存管理/","toc":[{"id":"objective-c中的内存分配","title":"Objective-C中的内存分配","index":"1"},{"id":"mrc与arc","title":"MRC与ARC","index":"2"},{"id":"mrc","title":"MRC","index":"3"}],"reading_time":"226 words in 2 min"}