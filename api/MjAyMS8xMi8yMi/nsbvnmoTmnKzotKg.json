{"title":"类的本质","date":"2021-12-21T16:00:00.000Z","date_formatted":{"ll":"Dec 22, 2021","L":"12/22/2021","MM-DD":"12-22"},"link":"2021/12/22/类的本质","tags":["Objective-C"],"updated":"2022-02-21T10:47:17.071Z","content":"<h1 id=\"类的本质\">类的本质<a title=\"#类的本质\" href=\"#类的本质\"></a></h1>\n<p>类的本质是一个对象，称作类对象，程序在第一次使用该类时被创建，在整个程序中只有一份，</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@interface Foo : NSObject</span><br><span class=\"line\"></span><br><span class=\"line\">- (void)hello;</span><br><span class=\"line\"></span><br><span class=\"line\">@end</span><br><span class=\"line\"></span><br><span class=\"line\">@implementation Foo</span><br><span class=\"line\"></span><br><span class=\"line\">- (void)hello &#123;</span><br><span class=\"line\">    NSLog(@&quot;Hello Foo&quot;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">@end</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Class class = [Foo class];</span><br><span class=\"line\">void *ptr = &amp;class;</span><br><span class=\"line\">[(__bridge  id)ptr hello];</span><br></pre></td></tr></table></figure>\n<p>这段代码执行结果会是什么？会崩溃吗？并不会，这段代码会顺利打印Hello Foo。为什么呢？</p>\n<p>答：<strong>实例对象中存放成员变量，实例对象的isa指向类对象，类对象中存放实例方法，isa指向元类对象，元类对象存储类方法，isa指向NSObject。</strong></p>\n","prev":{"title":"方法的本质","link":"2021/12/22/2021-12-23-方法的本质"},"next":{"title":"React-Native中常用的命令","link":"2021/12/15/2021-12-15-React-Native常用命令"},"plink":"http://hongweichen.github.io/2021/12/22/类的本质/","toc":[{"id":"类的本质","title":"类的本质","index":"1"}],"reading_time":"172 words in 1 min"}