{"title":"SDWebImage无法正确加载图片","date":"2020-12-30T16:00:00.000Z","date_formatted":{"ll":"Dec 31, 2020","L":"12/31/2020","MM-DD":"12-31"},"link":"2020/12/31/SDWebImage无法正确加载图片","tags":["Objective-C"],"updated":"2022-02-21T15:58:17.270Z","content":"<h1 id=\"前言\">前言<a title=\"#前言\" href=\"#前言\"></a></h1>\n<p>因为公司React-Native的版本比较老，所以使用的框架也比较老，包括react-native-fast-image，而react-native-fast-image这个框架又使用到了SDWebImage这个iOS第三方库，而SDWebImage这个库在早期有一个问题会导致无法正常加载Image。</p>\n<h1 id=\"github-issues\">Github issues<a title=\"#github-issues\" href=\"#github-issues\"></a></h1>\n<p><a href=\"https://github.com/SDWebImage/SDWebImage/issues/3091\" target=\"_blank\">#3091</a><br>\n<a href=\"https://github.com/SDWebImage/SDWebImage/pull/3092\" target=\"_blank\">#3092</a></p>\n<h1 id=\"具体出现问题的代码\">具体出现问题的代码<a title=\"#具体出现问题的代码\" href=\"#具体出现问题的代码\"></a></h1>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (void)displayLayer:(CALayer *)layer</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    if (_currentFrame) &#123;</span><br><span class=\"line\">        layer.contentsScale = self.animatedImageScale;</span><br><span class=\"line\">        layer.contents = (__bridge id)_currentFrame.CGImage;</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">        if ([UIImageView instancesRespondToSelector:@selector(displayLayer:)]) &#123;</span><br><span class=\"line\">            [super displayLayer:layer];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","prev":{"title":"TCP协议","link":"2021/08/14/TCP协议"},"next":{"title":"Git规范","link":"2017/07/11/Git规范"},"plink":"http://hongweichen.github.io/2020/12/31/SDWebImage无法正确加载图片/","toc":[{"id":"前言","title":"前言","index":"1"},{"id":"github-issues","title":"Github issues","index":"2"},{"id":"具体出现问题的代码","title":"具体出现问题的代码","index":"3"}],"reading_time":"125 words in 1 min"}